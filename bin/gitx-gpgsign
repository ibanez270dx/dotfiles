#!/bin/bash
# allows signing commits made through gitx
# https://josh.fail/blog/2019/signed-commits-with-gitx.html

args=("$@")

if [[ "$1" = "commit-tree" ]] && [[ "$(git config --get commit.gpgsign)" = "true" ]]; then
  args=("commit-tree" "-S" "${args[@]:1}")
fi

git "${args[@]}"
